<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Registration Page</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-auth.js"></script>
</head>

<body>
    <h1>Registration Page</h1>
    <form id="registrationForm">
        <label for="name">Name</label>
        <input type="text" id="name" required />

        <label for="email">Email</label>
        <input type="email" id="email" required />

        <label for="password">Password</label>
        <input type="password" id="password" required />

        <label for="confirmPassword">Confirm Password</label>
        <input type="password" id="confirmPassword" required />

        <button type="submit">Submit</button>
    </form>
    <div id="googleSignInButton">
        <button>sign up with google</button>
    </div>
    <!-- <script src="index.js"></script> -->
</body>

</html>
<script>
    const registrationForm = document.getElementById("registrationForm");
    registrationForm.addEventListener("submit", (e) => {
            e.preventDefault();

            // Get user input from form
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirmPassword").value;

            // Validate user input
            if (password !== confirmPassword) {
                alert("Passwords do not match!");
                return;
            }

            // Register user with Firebase Auth
            firebase
                .auth()
                .createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // User registered successfully
                    const user = userCredential.user;
                    console.log(user);
                })
                .catch((error) => {
                    console.log(error.code, error.message);
                });
        });
        firebase.auth().onAuthStateChanged((user) => {
                if (user) {
                    console.log(user);
                    // User is signed in, redirect to dashboard or home page
                } else {
                    console.log("User is not signed in.");
                    // User is signed out
                }
            });
            registrationForm.addEventListener("submit", (e) => {
                    e.preventDefault();

                    // Get user input from form
                    const name = document.getElementById("name").value;
                    const email = document.getElementById("email").value;
                    const password = document.getElementById("password").value;
                    const confirmPassword = document.getElementById("confirmPassword").value;

                    // Validate user input
                    if (password !== confirmPassword) {
                        alert("Passwords do not match!");
                        return;
                    }

                    // Register user with Firebase Auth
                    firebase
                        .auth()
                        .createUserWithEmailAndPassword(email, password)
                        .then((userCredential) => {
                            // User registered successfully
                            const user = userCredential.user;
                            console.log(user);
                        })
                        .catch((error) => {
                            console.log(error.code, error.message);
                        });
                });

                // Add event listener to Google Sign-In button
                googleSignInButton.addEventListener("click", () => {
                    firebase
                        .auth()
                        .signInWithPopup(googleProvider)
                        .then((result) => {
                            const user = result.user;
                            console.log(user);
                        })
                        .catch((error) => {
                            console.log(error.code, error.message);
                        });
                });


        // const firebaseConfig = {
        //         // Add your Firebase project config here
        //     };

        //     firebase.initializeApp(firebaseConfig);

        //     // Initialize Google Sign-In
        //     const googleSignInButton = document.getElementById("googleSignInButton");
        //     const googleProvider = new firebase.auth.GoogleAuthProvider();
        //     googleSignInButton.addEventListener("click", () => {
        //         firebase.auth().signInWithPopup(googleProvider);
        //     });


</script>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyB_VEH4uUMtVkMdcxRH5Bh6iTXyM7rK8_w",
        authDomain: "genesis-cinemas.firebaseapp.com",
        projectId: "genesis-cinemas",
        storageBucket: "genesis-cinemas.appspot.com",
        messagingSenderId: "417461120613",
        appId: "1:417461120613:web:3995d8a2c4d4c29e7d208c"
    };

    // Initialize Firebase
    const app = firebaseConfig.initializeApp(firebaseConfig);
</script>